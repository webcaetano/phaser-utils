!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("Phaser"),require("_")):"function"==typeof define&&define.amd?define(["Phaser","_"],n):"object"==typeof exports?exports.$utils=n(require("Phaser"),require("_")):t.$utils=n(t.Phaser,t._)}(this,function(t,n){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var r=(e(1),e(2)),o={};o.ang={to:{rad:function(t){return t*(180/Math.PI)},deg:function(t){return t*(Math.PI/180)}}},o.randInRange=function(t,n){var e=r.random(0,360,!0)*(Math.PI/180),o=r.random(0,.5*n,!0);return{x:t.x+Math.cos(e)*o,y:t.y+Math.sin(e)*o}},o.elipsePos=function(t,n,e){var r=n*(Math.PI/180);return{x:t.x+Math.cos(r)*e.width/2,y:t.y+Math.sin(r)*e.height/2}},o.mod=function(t,n){return(t%n+n)%n},o.getPorInRange=function(t,n,e){return e>=n?1:e<=t?0:(e-t)/(n-t)},o.pointAngleIntersection=function(t,n,e,r){var a={start:t,end:o.radPos(t,n,50)},i={start:e,end:o.radPos(e,r,50)},u=(i.end.y-i.start.y)*(a.end.x-a.start.x)-(i.end.x-i.start.x)*(a.end.y-a.start.y);if(0===u)return null;var s=((i.end.x-i.start.x)*(a.start.y-i.start.y)-(i.end.y-i.start.y)*(a.start.x-i.start.x))/u;return{x:a.start.x+s*(a.end.x-a.start.x),y:a.start.y+s*(a.end.y-a.start.y)}},o.getCenter=function(t){return{x:t.x+.5*t.width,y:t.y+.5*t.height}},o.time=function(){return Math.floor(+new Date/1e3)},o.porBetween=function(t,n,e,r,o){return void 0===r&&(r=100),void 0===o&&(o=2),Number(((e-t)*r/(n-t)).toFixed(o))},o.hitDotBox=function(t,n){return t.x>n.x&&t.x<n.x+n.width&&t.y>n.y&&t.y<n.y+n.height},o.hitBoxBox=function(t,n){return t.x+t.width>n.x&&t.x<n.x+n.width&&t.y+t.height>n.y&&t.y<n.y+n.height},o.dotsBetween=function(t,n,e){void 0===e&&(e=1);var a=o.dist(t,n),i=o.angleBetween(t,n);return r.map(new Array(e),function(n,r){var o=a/(e+1)*(r+1);return{x:t.x+Math.cos(i)*o,y:t.y+Math.sin(i)*o}})},o.dotLine=function(t,n,e){return[t].concat(o.dotsBetween(t,n,e-2)).concat([n])},o.angleBetween=function(t,n){return Math.atan2(n.y-t.y,n.x-t.x)},o.angleBetweenRad=function(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*(180/Math.PI)},o.pointBetweenPorcent=function(t,n,e){return o.radPos(t,o.angleBetweenRad(t,n),o.dist(t,n)*e)},o.randomPointBetween=function(t,n){return o.pointBetweenPorcent(t,n,r.random(0,100)/100)},o.radPos=function(t,n,e){var r=n*(Math.PI/180);return{x:t.x+Math.cos(r)*e,y:t.y+Math.sin(r)*e}},o.getRangeIndexByValue=function(t,n,e,r){return void 0===r&&(r=!0),n>=t&&(n=t-1),n<=0&&(n=0),~~(e*(n/t))},o.getModeByValue=function(t,n,e,r){return void 0===r&&(r=!0),e[o.getRangeIndexByValue(t,n,e.length,r)]},o.randPorRange=function(t,n){var e=Math.ceil(t*n/100);return o.rand(t-e,t+e)},o.loadAssets=function(t,n){var e;for(e in n.atlas)t.load.atlasJSONHash(e,n.atlas[e].image,n.atlas[e].jsonUrl,n.atlas[e].json);for(e in n.images)t.load.image(e,n.images[e]);for(e in n.sprites)t.load.spritesheet(e,n.sprites[e].image,n.sprites[e].width,n.sprites[e].height,n.sprites[e].frames);for(e in n.audio)t.load.audio(e,n.audio[e])},o.por=function(t,n,e,r){return void 0===e&&(e=!0),void 0===r&&(r=0),Number((t*n/100*(e?1:-1)+t).toFixed(r))},o.dist=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},o.setBtn=function(t,n){if(void 0===n&&(n=null),t&&(t.inputEnabled||(t.inputEnabled=!0),t.input))return t.input.useHandCursor=!0,n&&t.events.onInputUp.add(function(t){n(t)}),t},o.setBtnHold=function(t,n,e){if(void 0===n&&(n=null),t&&(t.inputEnabled||(t.inputEnabled=!0),t.input))return t.input.useHandCursor=!0,n&&t.events.onInputDown.add(function(t){n(t)}),e&&t.events.onInputUp.add(function(t){e(t)}),t},o.setHover=function(t,n,e){if(void 0===n&&(n=null),void 0===e&&(e=null),t&&(t.inputEnabled||(t.inputEnabled=!0),t.input))return t.input.useHandCursor=!0,n&&t.events.onInputOver.add(function(t){n(t)}),e&&t.events.onInputOut.add(function(t){e(t)}),t},t.exports=o},function(n,e){n.exports=t},function(t,e){t.exports=n}])});